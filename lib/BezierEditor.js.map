{"version":3,"sources":["../src/BezierEditor.js"],"names":["onEnterHandle","h","state","down","setState","hover","onDownHandle","e","preventDefault","onLeaveHandle","BezierEditor","onEnterHandle1","bind","onEnterHandle2","onLeaveHandle1","onLeaveHandle2","onDownHandle1","onDownHandle2","onDownLeave","onDownMove","i","value","concat","props","positionForEvent","x","y","inversex","verticalFlip","inversey","onChange","onDownUp","rect","refs","root","getBoundingClientRect","clientX","left","clientY","top","padding","w","width","Math","round","max","min","height","handleRadius","clampMargin","style","className","progress","handleStroke","background","gridColor","curveColor","curveWidth","pinchColor","pinchWidth","handleColor","textStyle","progressColor","readOnly","pointers","sharedProps","xFrom","yFrom","xTo","yTo","cursor","propTypes","styles","def","userSelect","WebkitUserSelect","MozUserSelect","containerEvents","onMouseMove","onMouseUp","onMouseLeave","handle1Events","onMouseDown","onMouseEnter","handle2Events","multiplierIn","pinchIn","pinchIntensity","multiplierOut","pinchOut","pinchValue","intensityChange","defaultProps","children","undefined","Component","PropTypes","array","func","number","bool","object","string","color","fontFamily","fontSize"],"mappings":"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","file":"BezierEditor.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Grid from \"./Grid\";\r\nimport Handle from \"./Handle\";\r\nimport Progress from \"./Progress\";\r\nimport Curve from \"./Curve\";\r\n\r\nfunction onEnterHandle(h) {\r\n  if (!this.state.down) {\r\n    this.setState({\r\n      hover: h,\r\n    });\r\n  }\r\n}\r\nfunction onDownHandle(h, e) {\r\n  e.preventDefault();\r\n  this.setState({\r\n    hover: null,\r\n    down: h,\r\n  });\r\n}\r\n\r\nfunction onLeaveHandle() {\r\n  if (!this.state.down) {\r\n    this.setState({\r\n      hover: null,\r\n    });\r\n  }\r\n}\r\n\r\nexport default class BezierEditor extends Component {\r\n  static propTypes = {\r\n    value: PropTypes.array,\r\n    onChange: PropTypes.func,\r\n    width: PropTypes.number,\r\n    height: PropTypes.number,\r\n    verticalFlip: PropTypes.bool,\r\n    padding: PropTypes.array,\r\n    handleRadius: PropTypes.number,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    progress: PropTypes.number,\r\n    handleStroke: PropTypes.number,\r\n    background: PropTypes.string,\r\n    gridColor: PropTypes.string,\r\n    curveColor: PropTypes.string,\r\n    curveWidth: PropTypes.number,\r\n    handleColor: PropTypes.string,\r\n    color: PropTypes.string,\r\n    textStyle: PropTypes.object,\r\n    progressColor: PropTypes.string,\r\n    readOnly: PropTypes.bool,\r\n    pinchIn: PropTypes.bool,\r\n    pinchOut: PropTypes.bool,\r\n    pinchIntensity: PropTypes.number,\r\n    pinchColor: PropTypes.string,\r\n    pinchWidth: PropTypes.number,\r\n  };\r\n\r\n  static defaultProps = {\r\n    value: [0.25, 0.25, 0.75, 0.75],\r\n    width: 300,\r\n    height: 300,\r\n    verticalFlip: false,\r\n    padding: [25, 5, 25, 18],\r\n    progress: 0,\r\n    background: \"#fff\",\r\n    color: \"#000\", // FIXME what is color?\r\n    gridColor: \"#eee\",\r\n    curveColor: \"#333\",\r\n    progressColor: \"#ccc\",\r\n    pinchColor: '#ccc',\r\n    handleColor: \"#f00\",\r\n    curveWidth: 2,\r\n    pinchWidth: 2,\r\n    handleRadius: 5,\r\n    handleStroke: 2,\r\n    textStyle: {\r\n      fontFamily: \"sans-serif\",\r\n      fontSize: \"10px\",\r\n    },\r\n    pointers: {\r\n      down: \"none\",\r\n      hover: \"pointer\",\r\n      def: \"default\",\r\n    },\r\n  };\r\n\r\n  state = {\r\n    down: 0,\r\n    hover: 0,\r\n  };\r\n\r\n  onEnterHandle1 = onEnterHandle.bind(this, 1);\r\n  onEnterHandle2 = onEnterHandle.bind(this, 2);\r\n  onLeaveHandle1 = onLeaveHandle.bind(this, 1);\r\n  onLeaveHandle2 = onLeaveHandle.bind(this, 2);\r\n  onDownHandle1 = onDownHandle.bind(this, 1);\r\n  onDownHandle2 = onDownHandle.bind(this, 2);\r\n\r\n  onDownLeave = e => {\r\n    if (this.state.down) {\r\n      this.onDownMove(e);\r\n      this.setState({\r\n        down: null,\r\n      });\r\n    }\r\n  };\r\n\r\n  onDownMove = e => {\r\n    if (this.state.down) {\r\n      e.preventDefault();\r\n      const i = 2 * (this.state.down - 1);\r\n      const value = [].concat(this.props.value);\r\n      const [x, y] = this.positionForEvent(e);\r\n      value[i] = this.inversex(x);\r\n      value[i + 1] = this.props.verticalFlip ? 1 - this.inversey(y) : this.inversey(y);\r\n      this.props.onChange(value);\r\n    }\r\n  };\r\n\r\n  onDownUp = () => {\r\n    // this.onDownMove(e);\r\n    this.setState({\r\n      down: 0,\r\n    });\r\n  };\r\n\r\n  positionForEvent = e => {\r\n    const rect = this.refs.root.getBoundingClientRect();\r\n    return [e.clientX - rect.left, e.clientY - rect.top];\r\n  };\r\n\r\n  x = value => {\r\n    const padding = this.props.padding;\r\n    const w = this.props.width - padding[1] - padding[3];\r\n    return Math.round(padding[3] + value * w);\r\n  };\r\n\r\n  inversex = x => {\r\n    const padding = this.props.padding;\r\n    const w = this.props.width - padding[1] - padding[3];\r\n    return Math.max(0, Math.min((x - padding[3]) / w, 1));\r\n  };\r\n\r\n  y = value => {\r\n    const padding = this.props.padding;\r\n    const h = this.props.height - padding[0] - padding[2];\r\n    return Math.round(padding[0] + (1 - value) * h);\r\n  };\r\n\r\n  inversey = y => {\r\n    const { height, handleRadius, padding } = this.props;\r\n    const clampMargin = 2 * handleRadius;\r\n    const h = height - padding[0] - padding[2];\r\n    y = Math.max(clampMargin, Math.min(y, height - clampMargin));\r\n    return 1 - (y - padding[0]) / h;\r\n  };\r\n\r\n  render() {\r\n    const { x, y } = this;\r\n    const {\r\n      value,\r\n      width,\r\n      height,\r\n      handleRadius,\r\n      style,\r\n      className,\r\n      progress,\r\n      handleStroke,\r\n      background,\r\n      gridColor,\r\n      curveColor,\r\n      curveWidth,\r\n      pinchColor,\r\n      pinchWidth,\r\n      handleColor,\r\n      textStyle,\r\n      progressColor,\r\n      readOnly,\r\n      pointers,\r\n    } = this.props;\r\n\r\n    const { down, hover } = this.state;\r\n\r\n    const sharedProps = {\r\n      xFrom: x(0),\r\n      yFrom: y(0),\r\n      xTo: x(1),\r\n      yTo: y(1),\r\n    };\r\n    if (this.props.verticalFlip) {\r\n      sharedProps.yFrom = y(1);\r\n      sharedProps.yTo = y(0);\r\n    }\r\n\r\n    const cursor = { ...BezierEditor.propTypes.pointers, ...pointers };\r\n\r\n    const styles = {\r\n      background,\r\n      cursor: down ? cursor.down : hover ? cursor.hover : cursor.def,\r\n      userSelect: \"none\",\r\n      WebkitUserSelect: \"none\",\r\n      MozUserSelect: \"none\",\r\n      ...style,\r\n    };\r\n\r\n    const containerEvents = readOnly || !down\r\n      ? {}\r\n      : {\r\n          onMouseMove: this.onDownMove,\r\n          onMouseUp: this.onDownUp,\r\n          onMouseLeave: this.onDownLeave,\r\n        };\r\n    const handle1Events = readOnly || down\r\n      ? {}\r\n      : {\r\n          onMouseDown: this.onDownHandle1,\r\n          onMouseEnter: this.onEnterHandle1,\r\n          onMouseLeave: this.onLeaveHandle1,\r\n        };\r\n    const handle2Events = readOnly || down\r\n      ? {}\r\n      : {\r\n          onMouseDown: this.onDownHandle2,\r\n          onMouseEnter: this.onEnterHandle2,\r\n          onMouseLeave: this.onLeaveHandle2,\r\n        };\r\n\r\n    const multiplierIn = this.props.pinchIn ? 1 - this.props.pinchIntensity : 1\r\n    const multiplierOut = this.props.pinchOut ? 1 - this.props.pinchIntensity : 1\r\n    const pinchValue = [].concat(this.props.value)\r\n    const intensityChange = -0.1 * this.props.pinchIntensity\r\n    if (this.props.pinchIn) {\r\n      pinchValue[1] += intensityChange\r\n    } else if (this.props.pinchOut) {\r\n      pinchValue[3] += intensityChange\r\n    }\r\n\r\n    return (\r\n      <svg\r\n        ref=\"root\"\r\n        className={className}\r\n        style={styles}\r\n        width={width}\r\n        height={height}\r\n        {...containerEvents}\r\n      >\r\n        <Grid\r\n          {...sharedProps}\r\n          background={background}\r\n          gridColor={gridColor}\r\n          textStyle={{ ...BezierEditor.defaultProps.textStyle, ...textStyle }}\r\n        />\r\n        <Progress\r\n          {...sharedProps}\r\n          value={value}\r\n          progress={progress}\r\n          progressColor={progressColor}\r\n        />\r\n        <Curve\r\n          {...sharedProps}\r\n          value={value}\r\n          curveColor={curveColor}\r\n          curveWidth={curveWidth}\r\n        />\r\n        <Curve\r\n          {...sharedProps}\r\n          xFrom={x(0.05 * multiplierIn)}\r\n          xTo={x((0.05 * multiplierOut) + 1)}\r\n          yFrom={y((this.props.verticalFlip ? 1 : 0) + (0.1 * multiplierIn * (this.props.verticalFlip ? 1 : -1)))}\r\n          yTo={y((this.props.verticalFlip ? 0 : 1) + (0.1 * multiplierOut * (this.props.verticalFlip ? 1 : -1)))}\r\n          value={pinchValue}\r\n          curveColor={pinchColor}\r\n          curveWidth={pinchWidth}\r\n        />\r\n        {this.props.children}\r\n        {readOnly\r\n          ? undefined\r\n          : <g>\r\n              <Handle\r\n                {...sharedProps}\r\n                {...handle1Events}\r\n                index={0}\r\n                xval={value[0]}\r\n                yval={value[1]}\r\n                handleRadius={handleRadius}\r\n                handleColor={handleColor}\r\n                down={down === 1}\r\n                hover={hover === 1}\r\n                handleStroke={handleStroke}\r\n                background={background}\r\n              />\r\n              <Handle\r\n                {...sharedProps}\r\n                {...handle2Events}\r\n                index={1}\r\n                xval={value[2]}\r\n                yval={value[3]}\r\n                handleRadius={handleRadius}\r\n                handleColor={handleColor}\r\n                down={down === 2}\r\n                hover={hover === 2}\r\n                handleStroke={handleStroke}\r\n                background={background}\r\n              />\r\n            </g>}\r\n      </svg>\r\n    );\r\n  }\r\n}\r\n"]}